<!--pages/point-detail/point-detail.wxml-->
<view class="detail-container">
  <view class="image-section" wx:if="{{showImages}}">
    <swiper class="image-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="3000">
      <swiper-item wx:for="{{point.images}}" wx:key="index">
        <image class="detail-image" src="{{item}}" mode="aspectFill"></image>
      </swiper-item>
    </swiper>
    
    <view class="image-overlay">
      <view class="back-btn" bindtap="goBack">
        <text class="back-icon">â†</text>
      </view>
    </view>
  </view>

  <view class="info-section">
    <view class="point-header">
      <view class="title-row">
        <text class="point-title">{{point.name}}</text>
        <view class="rating-badge">
          <text class="rating-score">{{point.rating}}</text>
          <text class="rating-star">â­</text>
        </view>
      </view>
      
      <view class="type-badge">
        <text class="type-text">{{getTypeText(point.buildingForm)}}</text>
      </view>
    </view>
    
    <view class="address-row">
      <text class="address-icon">ğŸ“</text>
      <text class="address-text">{{point.address}}</text>
    </view>
    
    <view class="description">
      <text class="description-text">{{point.description}}</text>
    </view>
    
    <!-- ä¼ ç»Ÿæ‘è½è¯¦ç»†ä¿¡æ¯ -->
    <view class="village-details" wx:if="{{point.county}}">
      <view class="detail-row">
        <text class="detail-label">å»ºæ‘å¹´ä»£ï¼š</text>
        <text class="detail-value">{{point.buildYear}}</text>
      </view>
      <view class="detail-row">
        <text class="detail-label">å½¢æˆåŸå› ï¼š</text>
        <text class="detail-value">{{point.buildReason}}</text>
      </view>
      <view class="detail-row">
        <text class="detail-label">åœ°å½¢åœ°è²Œï¼š</text>
        <text class="detail-value">{{point.terrain}}</text>
      </view>
      <view class="detail-row">
        <text class="detail-label">æ‘è½è§„æ¨¡ï¼š</text>
        <text class="detail-value">{{point.villageScale}}</text>
      </view>
      <view class="detail-row" wx:if="{{point.mainSurname}}">
        <text class="detail-label">ä¸»è¦å§“æ°ï¼š</text>
        <text class="detail-value">{{point.mainSurname}}</text>
      </view>
      <view class="detail-row" wx:if="{{point.historicalBuilding}}">
        <text class="detail-label">å†å²å»ºç­‘ï¼š</text>
        <text class="detail-value">{{point.historicalBuilding}}</text>
      </view>
    </view>
  </view>

  <view class="details-section">
    <view class="detail-grid">
      <view class="detail-item">
        <text class="detail-label">å¼€æ”¾æ—¶é—´</text>
        <text class="detail-value">{{point.openTime}}</text>
      </view>
      
      <view class="detail-item">
        <text class="detail-label">è”ç³»ç”µè¯</text>
        <text class="detail-value">{{point.phone}}</text>
      </view>
      
      <view class="detail-item">
        <text class="detail-label">è®¿é—®é‡</text>
        <text class="detail-value">{{formatVisitCount(point.visitCount)}}</text>
      </view>
    </view>
  </view>

  <view class="tags-section">
    <view class="tags-title">æ ‡ç­¾</view>
    <view class="tags-list">
      <view class="tag-item" wx:for="{{point.tags}}" wx:key="index">
        <text class="tag-text">{{item}}</text>
      </view>
    </view>
  </view>

  <view class="image-toggle-section">
    <view class="toggle-header">
      <text class="toggle-title">æ˜¾ç¤ºå›¾ç‰‡</text>
      <switch class="image-toggle" checked="{{showImages}}" bindchange="toggleImages" color="#2E8B57"/>
    </view>
  </view>
</view>
